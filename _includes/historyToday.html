<section class="bg-light page-section" id="{{ site.data.sitetext.portfolio.section | default: "portfolio" }}">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{ site.data.sitetext.portfolio.title | markdownify | default: "History" }}</h2>
        <h3 class="section-subheading text-muted">{{ site.data.sitetext.portfolio.text | markdownify }}</h3>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        {% assign all_days = "" | split: "" %}
        
        {% for month in site.portfolio %}
          {% for day in month.days %}
            {% assign all_days = all_days | push: day %}
          {% endfor %}
        {% endfor %}

        {% assign all_days = all_days | sort: "date" %}

        <div class="event-list">
          {% for day in all_days %}
          <div class="row align-items-center border-bottom py-3">
            <!-- Date Column -->
            <div class="col-md-3 text-left font-weight-bold">
              {{ day.date | date: "%B %d, %Y" }}
            </div>

            <!-- Events Column -->
            <div class="col-md-7">
              <ul class="mb-0">
                {% for year_events in day.years %}
                  {% assign year = year_events[0] %}
                  {% assign events = year_events[1] %}
                  <li>
                    <strong>{{ year }}:</strong>
                    {% for event in day.years[year].events %}
                      {{ event }}{% if forloop.last == false %}, {% endif %}
                    {% endfor %}
                  </li>
                {% endfor %}
              </ul>
            </div>

            <!-- Button Column -->
            <div class="col-md-2 text-right">
              <a class="btn btn-primary btn-sm" data-toggle="modal" href="#p{{ forloop.index }}">View</a>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>

{% include modals.html %}
